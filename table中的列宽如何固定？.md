---
title: table中的列宽如何固定？
tags:
  - html
  - css
categories:
  - 随笔
date: 2018-12-07 14:06:52
---

最近在优化一个列表页面的样式，列表的实现用的是<table\>标签。在处理table的列宽时，总结了一些经验，记录于此。

一般情况下，如果<table\>中的列没有指定宽度的话，那么列的宽度会根据显示的内容来撑开的。当然如果<table\>指定了宽度的话，那么每列的宽度会被里面的内容撑到什么程度，是由浏览器自动计算的。

<!-- more -->

起初，笔者为了美观，是为每列指定了宽度的。当然列宽的设置方式有好几种，笔者在此列出2种。

- 第1种：通过<col\>标签

```
<table width="100%" border="1">
  <col width="30%" />
  <col width="40" />
  <col width="30%" />
  <tr>
    <th>ISBN</th>
    <th>Title</th>
    <th>Price</th>
  </tr>
  <tr>
    <td>3476896</td>
    <td>My first HTML</td>
    <td>$53</td>
  </tr>
</table>
```

- 第2种：一般列表都会有标题行，通过对<th\>设置宽度

```
<table width="100%" border="1">
  <tr>
    <th style="width: 30%;">ISBN</th>
    <th style="width: 40%;">Title</th>
    <th style="width: 30%;">Price</th>
  </tr>
  <tr>
    <td>3476896</td>
    <td>My first HTML</td>
    <td>$53</td>
  </tr>
</table>
```
笔者用的是第2种方法，虽然在列表刚渲染显示出来，每列的宽度看着和谐了许多，但是当列中的内容过多，超出指定的列宽时，依然会把列给撑开，其实也就是浏览器仍然在自动计算宽度。

查了一下相关资料，发现与一个css属性相关：table-layout。

table-layout 属性用来显示表格单元格、行、列的算法规则。

- 固定表格布局：

固定表格布局与自动表格布局相比，允许浏览器更快地对表格进行布局。

在固定表格布局中，水平布局仅取决于表格宽度、列宽度、表格边框宽度、单元格间距，而与单元格的内容无关。

通过使用固定表格布局，用户代理在接收到第一行后就可以显示表格。

- 自动表格布局：

在自动表格布局中，列的宽度是由列单元格中没有折行的最宽的内容设定的。

此算法有时会较慢，这是由于它需要在确定最终的布局之前访问表格中所有的内容。

- 说明

该属性指定了完成表布局时所用的布局算法。固定布局算法比较快，但是不太灵活，而自动算法比较慢，不过更能反映传统的 HTML 表。

因此，为了达到固定列宽，不被内容影响的目的，对<table\>添加style="table-layout: fixed;"即可。

不过还要多说一点，如果表格的行高度没有设定的话，单元格中的内容虽然不会撑开宽度，但会撑开高度。所以如果需要维持行高度一致的话，可以对设定行高度，对单元格内容进行裁剪。当然也还有别的手段，可以根据实际情况进行选择。



