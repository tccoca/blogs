---
title: 页面中滚动条的一些总结
tags:
  - html
categories:
  - 开发笔记
date: 2018-12-13 10:45:42
---


## 前言

前些日子，在优化一个列表页面的显示效果，列表中的列比较多，优化的目的就是希望在浏览器窗口宽度小到一定程度后，列表上可以出现横向滚动条来显示列表中较多的数据。否则的话，列表中的数据会随着窗口宽度缩小而出现拥挤，几乎没有可视效果。

列表采用table标签显示，其html上下文结构如下：

``` html
<div style="overflow-x: auto;width: 100%;">
    <table style="width: 100%;">
    ...
    </table>
</div>
```

<!-- more --> 

使用**overflow-x:auto**本意是希望当table列表中的内容超出一定宽度时可以自动出现滚动条，但是由于table列表并没有做高度上的限制，同时width为父元素div宽度的100%，所以当浏览器窗口缩小时，table中的内容会优先纵向拉伸，出现内容挤压的结果。而且**overflow-x:auto**能保证只在横向出现滚动条来扩展显示内容吗？也不尽然！

## overflow-x和overflow-y的一个“秘密”

当元素区域内容产生移出时，overflow-x控制的是内容在左/右边缘的处理方式，overflow-y控制的是内容在上/下边缘的处理方式。

先来看下面的一个栗子。

{% asset_img img1.png %}

虽然设置了**overflow-x:auto**，但是内容向下扩展了，只出现了纵向滚动条。why？其实这里面包含了2个知识点。

**知识点1：**

> 设置一个轴为visible（默认值），同时设置另一个轴为不同的值，会导致设置visible的轴的行为会变成auto。

上面的栗子中，由于overflow-y没有设置，所以采用默认值为visible。但是overflow-x和overflow-y的值不同，所以overflow-y的值变为了auto。

那么**overflow-x:auto**和**overflow-y:auto**，等同于**overflow:auto**。**overflow:xxx**等同于**overflow-x:xxx**和**overflow-y:xxx**。

{% asset_img img2.png %}

**知识点2：**

由于上面栗子中div的子元素是文本元素，而文本元素在宽度不够时是可以换行显示的，同时div允许纵向滚动条（**overflow:auto**）出现，因此优先在纵向扩展显示了所有内容，只出现了纵向滚动条。笔者认为这应该是浏览器默认的机制吧。

## 只出现横向滚动条的需要

仍然以上面的栗子展开讨论，笔者好奇有没有办法使内容只在横向扩展显示，只出现横向滚动条呢？笔者在此汇总2种方法。

### 方法1: 限制文本元素不换行
 
这个方法笔者认为很“生硬”，通过设置文本元素不能换行来达到目的，但是显示效果不是很好。

{% asset_img img3.png %}

### 方法2：文本元素添加一个Block父元素，同时设置宽度大于内容区域限制的宽度

这个方法是最常见的方法了，内容区域限制的宽度为200px，但是p元素需要的宽度为1500px。为了满足p元素的需要，其div父元素优先出现了横向滚动条来满足1500px的显示宽度。

{% asset_img img4.png %}

可以看到，横向滚动条的方式展现1500px的宽度，由于无法容下全部的文本元素，因此依然产生了换行，但并未出现纵向滚动条。如果把内容区域的高度限制设置的小一些，是可以出现纵向滚动条的。

这个过程可以理解为优先在横向进行内容展现，宽度不够，滚动条来凑~其次在纵向上进行展现，高度不够，滚动条来凑~

{% asset_img img5.png %}

笔者也是应用这种方法解决了本文开始提到的列表优化问题，具体如下。

``` html
<div style="overflow-x: auto;width: 100%;">
    <table style="min-width: 1360px;">
    ...
    </table>
</div>
```

table就相当于方法中提到的p元素了，由于高度上空间足够，所以不必担心列表上出现纵向滚动条。因为div的宽度是100%，随着窗口的缩小，div的宽度是变化的，把table的最小宽度设定为一个固定值，当窗口缩小到小于table的最小宽度时，触发横向滚动条显示列表内容。

## 只出现纵向滚动条的需要

有没有只需要纵向扩展显示内容，只出现纵向滚动条的情况呢？

### 方法1: 如果只是文本元素

如果限制区域内只是文本元素的话，凭着自动换行，内容会优先在纵向进行展示，只会出现纵向滚动条，这种情况上面也有提到。

{% asset_img img2.png %}

### 方法2: 文本元素有Block父元素，设置宽度小于内容区域限制的宽度

由于横向上宽度没有超过限制，所以不会出现横向滚动条，这是前提。那么当内容高度超出内容区域限制的高度时，自然只会出现纵向滚动条。

{% asset_img img6.png %}

## 小结

通过这次研究学习，笔者对滚动条有了进一步的认知与理解，后续还需继续努力呀，熟悉滚动条机制还是蛮重要的。

